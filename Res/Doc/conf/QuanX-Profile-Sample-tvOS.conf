# - QuantumultX Profiles - #
# è‡ªç”¨è§„åˆ™ï¼Œéšç¼˜æ›´æ–°ã€‚

[general]
# é€šç”¨è§„åˆ™

# å»ºè®®åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ã€Œ https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb ã€å¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€

# ä»£ç†æœåŠ¡å™¨ç½‘ç»œæ£€æŸ¥åŠè¶…æ—¶æ—¶é—´è®¾ç½®
server_check_url=http://www.google.com/generate_204
server_check_timeout=3000

# ç½‘ç»œæµ‹è¯•
network_check_url=http://www.apple.com/generate_204

# å¾—ç›Šäºã€Œèµ„æºè§£æå™¨ã€çš„ç‰¹æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨ Surge çš„ Rulesetã€Doaminset å’Œ Module
# æ­¤å¤„èµ„æºè§£æå™¨ä¸æ˜¯æœ€æ–°ç‰ˆï¼Œå¦‚éœ€æœ€æ–°ç‰ˆå¯è‡ªè¡Œæ›¿æ¢ä¸º: https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
resource_parser_url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/Plugins/Resource_Parser.js

# æœåŠ¡å™¨ GEO ä¿¡æ¯æ˜¾ç¤º
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/Plugins/IP_Checker.js

# DNS æ’é™¤åˆ—è¡¨ï¼Œå¦‚æƒ³å¯¹æŒ‡å®šåŸŸåä½¿ç”¨çœŸå® IP åœ°å€å¯åœ¨æ­¤å¤„è®¾ç½®
dns_exclusion_list=*.abchina.com.cn, *.bankcomm.com, *.bankcomm.cn, *.boc.cn, *.bosc.cn, *.ccb.com, *.cmbchina.com, *.qq.com, *.weixin.com, *.alipay.com, *.taobao.com, *.10099.com.cn, *.apple.com, *.chsi.com.cn

# ç¦ç”¨QUIC
udp_whitelist = 1-53

[dns]

# ç¦ç”¨ç³»ç»Ÿ DNS
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ã€Œno-systemã€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œä½†è‡³å°‘è¦å¢åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ã€‚
no-system

# ç¦ç”¨ipv6
# å½“è®¾ç½®ã€Œno-ipv6ã€æ—¶ï¼ŒQuanumult X Tunnel çš„ DNS æ¨¡å—ä¼šç›´æ¥è®© AAAA æŸ¥è¯¢å¤±è´¥ã€‚
no-ipv6

# è‡ªå®šä¹‰ DNS
# é˜¿é‡Œäº‘ DNS
server=223.5.5.5
# DNSPod DNS+
server=119.29.29.29
# cnnic DNS
server=1.2.4.8
# 114 DNS
server=114.114.114.114

# æœ¬åœ° DNS æ˜ å°„
# é˜¿é‡Œç³»
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.alipay.com/223.5.5.5
server=/*.alicdn.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5

# è…¾è®¯ç³»
server=/*.qq.com/119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/*.weixin.com/223.5.5.5

# Bç«™
server=/*.bilibili.com/119.29.29.29

# äº¬ä¸œ
server=/*.jd.com/119.29.29.29

# ç½‘æ˜“
server=/*.163.com/119.29.29.29
server=/*.126.com/119.29.29.29
server=/*.126.net/119.29.29.29
server=/*.yeah.net/119.29.29.29
server=/*.netease.com/119.29.29.29

# å°ç±³
server=/*.mi.com/119.29.29.29
server=/*.xiaomi.com/119.29.29.29

# Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29

# PlayStation
server=/*.dl.playstation.net/119.29.29.29

# Apple
server=/apple.com/119.29.29.29
server=/apple.com.cn/119.29.29.29
server=/apple-cloudkit.com/119.29.29.29
server=/apple-mapkit.com/119.29.29.29
server=/cdn-apple.com/119.29.29.29
server=/icloud.com/119.29.29.29
server=/icloud.com.cn/119.29.29.29

[task_local]
# æœ¬åœ°å®šæ—¶ä»»åŠ¡

[policy]
# ç­–ç•¥ç»„
# å…¶ä¸­ AdBlock ä¸ºå±è”½å¹¿å‘Šï¼Œé»˜è®¤REJECT;
# Apple Update ä¸ºå±è”½iOSç³»ç»Ÿæ›´æ–°çš„ç­–ç•¥ç»„;
# Apple ä¸ºè‹¹æœæœåŠ¡ç­–ç•¥ç»„;
# CMedia ç­–ç•¥ç»„ä¸ºä¸­å›½åª’ä½“ï¼ˆåŒ…æ‹¬Aç«™ã€Bç«™ã€çˆ±å¥‡è‰ºç­‰ï¼‰;
# GMedia ä¸ºå›½é™…åª’ä½“ï¼ˆåŒ…æ‹¬HULUã€HBOç­‰ï¼‰;
# Netflix ä¸ºNetflixç­–ç•¥ç»„;
# Spotify ä¸ºSpotifyç­–ç•¥ç»„;
# YouTube ä¸ºYouTubeç­–ç•¥ç»„;
# Outside æŒ‡å®šè®¿é—®å¢ƒå¤–ç½‘ç«™æ—¶çš„ç­–ç•¥æˆ–èŠ‚ç‚¹;
# Mainland æ§åˆ¶è®¿é—®å¤§é™†ç½‘ç«™æ—¶çš„ç­–ç•¥;
# Speedtest ä¸ºSpeedtestæµ‹é€Ÿç­–ç•¥ç»„;
# Others ä¸ºå…¶ä»–è§„åˆ™ï¼Œè‹¥å‰è¾¹çš„è§„åˆ™éƒ½æ²¡æœ‰è¢«åŒ¹é…åˆ°ï¼Œåˆ™å¬ä»æ­¤ç­–ç•¥ç»„çš„è§„å®šã€‚

static=AdBlock, Outside, reject, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/AdBlock.png
static=Apple Update, direct, reject, Outside, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Apple.png
static=Apple, direct, Outside, reject, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Apple.png
static=CMedia, direct, proxy, TW, HK, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/CMedia.png
static=GMedia, Outside, direct, HK, TW, JP, SG, US, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/GMedia.png
static=Netflix, GMedia, Outside, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Netflix.png
static=Spotify, GMedia, Outside, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Spotify.png
static=YouTube, GMedia, HK, Outside, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/YouTube.png
static=Outside, proxy, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Outside.png
static=Mainland, direct, proxy, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Mainland.png
static=Speedtest, Outside, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Speedtest.png
static=Others, Outside, direct, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Filter/Others.png

# èŠ‚ç‚¹å›½å®¶ç­–ç•¥ç»„
# åŒ…å«ä¸»æµåˆ†ç»„ï¼š HK[é¦™æ¸¯],TW[å°æ¹¾],JP[æ—¥æœ¬],KR[éŸ©å›½],SG[æ–°åŠ å¡],US[ç¾å›½],UN[ä¿„ç½—æ–¯]
static=HK, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/HK.png
static=TW, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/TW.png
static=JP, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/JP.png
static=KR, server-tag-regex=(?=.*(éŸ©|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|ç¾|æ–°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/KR.png
static=SG, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/SG.png
static=US, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/US.png
static=UN, server-tag-regex=(?=.*(ä¿„|RS|(?i)Russia))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Country/R/UN.png

# æœºåœºç­–ç•¥ç»„
# ç”±äºéƒ¨åˆ†æœºåœºå¿…é¡»ç”±è‡ªå·±çš„èŠ‚ç‚¹æ‹‰å–è®¢é˜…ï¼Œåˆ¶å®šæ­¤ç­–ç•¥ç»„ç”¨äºæ‹‰å–è®¢é˜…
static=Flower, server-tag-regex=(?=.*(æ ‡å‡†|é«˜çº§|å®éªŒæ€§).*IEPL.*ä¸“çº¿), check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Provider/Flower.png
static=Enet, server-tag-regex=(?=.*(Base|å®¶å®½).*), check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Provider/Enet.png

[server_remote]
# æœºåœºè®¢é˜…é“¾æ¥ï¼Œæ­¤å¤„æ¢æˆä½ è‡ªå·±çš„æœºåœºè®¢é˜…é“¾æ¥åŠå›¾æ ‡
# Flower
https://api-huacloud.net/sub?è¿™æ˜¯ä¸ªä¾‹å­ğŸŒ°, tag=FlowerCloud, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Provider/Flower.png, update-interval=86400, opt-parser=false, enabled=true

# Enet
https://5bx6h.net/è¿™æ˜¯ä¸ªä¾‹å­ğŸŒ°, tag=Enet, img-url=https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Icon/Provider/Enet.png, update-interval=86400, opt-parser=false, enabled=true

[filter_remote]
# åˆ†æµè§„åˆ™
# ä¸ä¸Šé¢çš„ç­–ç•¥ç»„ç›¸å¯¹åº”
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Revision/Revision.list, tag=Revision (åˆ†æµä¿®æ­£), update-interval=172800, opt-parser=false, inserted-resource=true, enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Adblock/All/filter/allAdBlock.list, tag=AdBlock (å¹¿å‘Šæ‹¦æˆª), update-interval=172800, opt-parser=false, inserted-resource=true, enabled=true
https://limbopro.com/Adblock4limbo.list, tag=AdBlock (å¹¿å‘Šæ‹¦æˆª), update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Apple.list, tag=Apple (è‹¹æœæœåŠ¡), update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/CMedia.list, tag=CMedia (å¤§é™†æµåª’ä½“), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Optional/Netflix.list, tag=Netflix (ç½‘é£å½±è§†), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Optional/Spotify.list, tag=Spotify (å£°ç”°éŸ³ä¹), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Optional/YouTube.list, tag=YouTube (æ²¹ç®¡), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/GMedia.list, tag=GMedia (å¢ƒå¤–æµåª’ä½“), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Speedtest.list, tag=Speedtest (ç½‘é€Ÿæµ‹è¯•), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Outside.list, tag=Outside (å¢ƒå¤–ç½‘ç«™), enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Filter/Mainland.list, tag=Mainland (å¤§é™†ç½‘ç«™), update-interval=172800, opt-parser=false, enabled=true

[rewrite_remote]
# è¿œç¨‹é‡å†™

# å¹¿å‘Šæ‹¦æˆª
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Adblock/All/rewrite/allAdRewrite.conf, tag=ä¸ªæ€§åŒ–å»å¹¿å‘Š, update-interval=86400, opt-parser=false, inserted-resource=true, enabled=true

# æ¯’å¥¶ç‰¹ä¾›
https://limbopro.com/Adblock4limbo.conf, tag=æ¯’å¥¶ç‰¹ä¾›, update-interval=86400, opt-parser=false, enabled=true

# ç¥æœºè§„åˆ™
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Redirect/DivineEngine.conf, tag=DivineEngine, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zirawell/R-Store/main/Rule/QuanX/Redirect/SearchEngine.conf, tag=SearchEngine, update-interval=86400, opt-parser=false, enabled=true

[server_local]

[filter_local]
# æœ¬åœ°ç½‘æ®µ
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct

# ç»•è¿‡ä¼ä¸šè¯ä¹¦è¿‡æœŸ
host, ocsp.apple.com, reject

# å±è”½ç³»ç»Ÿæ›´æ–°
host, xp.apple.com, Apple Update
host, gdmf.apple.com, Apple Update
host, mesu.apple.com, Apple Update
host, appldnld.apple.com, Apple Update
host, gg.apple.com, Apple Update
host, ns.itunes.apple.com, Apple Update
host, updates.cdn-apple.com, Apple Update
host, updates-http.cdn-apple.com, Apple Update

# è®¢é˜…æœºåœºèµ°ä»£ç†
# ä»¥èŠ±äº‘ä¸ºä¾‹
host, api.huacloud.xyz, Outside

# èŠ±äº‘è®¢é˜…é“¾æ¥èµ°èŠ±äº‘ç­–ç•¥ç»„
host, api-huacloud.net, Flower

# Enetè®¢é˜…é“¾æ¥èµ°Enetç­–ç•¥ç»„
host, 5bx6h.net, Enet

GEOIP, CN, direct
final, Others

[rewrite_local]
# bilibiliè‡ªåŠ¨æ¢åŒº
^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/v\d\/search\/defaultwords)\?access_key url script-response-body https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/Plugins/Bili_Auto_Regions.js
^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)& url script-request-header https://raw.githubusercontent.com/zirawell/R-Store/main/Res/Scripts/Plugins/Bili_Auto_Regions.js

# boxjs
^https?:\/\/(.+\.)?boxjs\.(com|net) url script-analyze-echo-response https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js

[mitm]
#skip_validating_cert = false
#force_sni_domain_name = false
# æ­¤å¤„ res.cc.cmbimg.com, elife.icbc.com.cn, m.ctrip.com åŸŸåå› å¯èƒ½ä¼šå½±å“AppåŠŸèƒ½ï¼Œæ”¾åœ¨æœ¬åœ°ï¼Œé…åˆè¿œç¨‹é‡å†™å®ç°æœ¬åœ°å¼€å…³åŠŸèƒ½ï¼Œå¦‚éœ€è¦å…³é—­æŒä¸Šç”Ÿæ´»çš„é‡å†™è§„åˆ™ï¼Œå°† res.cc.cmbimg.com æ”¹æˆ -res.cc.cmbimg.com å³å¯
hostname = ap?.bilibili.com, ap?.biliapi.net, boxjs.com, boxjs.net, *.boxjs.com, *.boxjs.net, res.cc.cmbimg.com, elife.icbc.com.cn, m.ctrip.com
passphrase = # è‡ªè¡Œæ›¿æ¢
p12 = # è‡ªè¡Œæ›¿æ¢
